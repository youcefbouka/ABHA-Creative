<!DOCTYPE html>
<html lang="ar">
<head>
  <meta charset="UTF-8">
  <title>منتجاتي</title>
  <style>
    body { font-family: Arial, sans-serif; direction: rtl; background: #f9f9f9; }
    .container { max-width: 900px; margin: auto; padding: 20px; }
    .product { 
      background: #fff; 
      border: 1px solid #ddd; 
      border-radius: 8px; 
      padding: 15px; 
      margin-bottom: 20px; 
      display: flex; 
      align-items: center;
    }
    .product img { width: 120px; height: auto; border-radius: 6px; margin-left: 15px; }
    .product h3 { margin: 0; }
    .product p { margin: 5px 0; }
  </style>
</head>
<body>
  <div class="container">
    <h1>قائمة المنتجات</h1>
    <div id="products"></div>
  </div>

  <script>
    const sheetUrl = "https://docs.google.com/spreadsheets/d/1lGqRZEaZmpyEDSatBLO6gXdTmRtlJ9SCRmFxAemcSws/pub?output=csv";

    fetch(sheetUrl)
      .then(response => response.text())
      .then(data => {
        let rows = data.split("\n").slice(1); // تجاهل الصف الأول (العناوين)
        let container = document.getElementById("products");

        rows.forEach(row => {
          let cols = row.split(",");
          if (cols.length >= 4) {
            let name = cols[0].trim();
            let price = cols[1].trim();
            let category = cols[2].trim();
            let image = cols[3].trim();

            if (name && price && image) {
              container.innerHTML += `
                <div class="product">
                  <img src="${image}" alt="${name}">
                  <div>
                    <h3>${name}</h3>
                    <p>السعر: ${price}</p>
                    <p>الفئة: ${category}</p>
                  </div>
                </div>
              `;
            }
          }
        });
      });
  </script>
</body>
</html>
